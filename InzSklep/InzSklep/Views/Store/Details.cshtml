@model InzSklep.Models.Product
@using InzSklep.Infrastructure

@{
    ViewBag.Title = "Details";
}

<div class="container">
    <h3 class="pb-2 text-center">
        @Model.Name
    </h3>
    <div class="row">

        <div class="col-md-5 offset-1">
            <img class="img-fluid w-100" src="@Url.ProductIMGFolderPath(Model.ProductFileName)" alt="@Model.Name">
        </div>
        <div class="col-md-6 text-center">



            <div class="row">

                <div class="col-md-10 offset-md-1 align-self-center">
                    <div class="py-3">
                        <div class="btn-group btn-group-lg btn-block" role="group" aria-label="...">
                            <a href="#" class="btn btn-light btn-lg disabled" role="button" aria-disabled="true">Cena :</a>
                            <a href="#" class="btn btn-light btn-lg disabled btn-block" role="button" aria-disabled="true">@string.Format("{0:0.##}", Model.Price)<span> PLN</span></a>
                        </div>
                    </div>

                    <div class="py-3">
                        <div class="btn-group btn-group-lg btn-block" role="group" aria-label="...">
                            <a href="#" class="btn btn-light btn-lg disabled" role="button" aria-disabled="true">Dostępność :</a>
                            <a href="#" class="btn btn-light btn-lg disabled btn-block" role="button" aria-disabled="true">@Model.ProductQuantity</a>
                        </div>
                    </div>

                    <div class="btn-group-vertical btn-block py-3 section">
                        <a href="#" class="btn btn-light btn-lg disabled btn-block" role="button" aria-disabled="true">Ilość sztuk :</a>
                        <div class="btn-group" role="group" aria-label="Basic example">
                            <button type="button" class="btn btn-primary btn-minus">
                                <i class="fa fa-minus-square" aria-hidden="true"></i>
                            </button>
                            <input class="btn btn-light" value="1" type="text">
                            <button type="button" class="btn btn-primary btn-plus">
                                <i class="fa fa-plus-square" aria-hidden="true"></i>
                            </button>
                        </div>

                    </div>
                    <a href="@Url.Action("AddToCart","Cart",new { id = Model.ProductId })" class="btn btn-success btn-block my-3" role="button" aria-pressed="true">
                        <i class="fa fa-cart-arrow-down fa-2x" aria-hidden="true"></i>
                    </a>
                </div>

            </div>


        </div>
    </div>
    <hr />
    <p class="display-4 text-center">Opis</p>
    <p class="pb-5">
        @Model.Description
    </p>
</div>






@section scripts{
    <script>
        $(document).ready(function () {
            $(".btn-minus").on("click", function () {
                var now = $(".section > div > input").val();
                if ($.isNumeric(now)) {
                    if (parseInt(now) - 1 > 0) { now--; }
                    $(".section > div > input").val(now);
                } else {
                    $(".section > div > input").val("1");
                }
            })
            $(".btn-plus").on("click", function () {
                var now = $(".section > div > input").val();
                if ($.isNumeric(now)) {
                    $(".section > div > input").val(parseInt(now) + 1);
                } else {
                    $(".section > div > input").val("1");
                }
            })
        })
    </script>
}        